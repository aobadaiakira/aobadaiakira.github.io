<!DOCTYPE html>
<html lang="ja">

<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<title>LISP のマクロについて | 青葉台旭のノートブック</title>
<link rel="stylesheet" type="text/css"  href="entry.css">
<link rel="icon"       type="image/png" href="./favicon.png">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-67878421-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-67878421-6');
</script>
</head>

<!-- ====================================================================== -->

<!-- ===== body ===== -->
<body>
<div class="base_sheet">
<div class="base_container">

<!-- ===== header ===== -->
<header>
  <div class="h1_and_button">
    <div class="button_in_header">
      <a href="p2022_0501b.html">&lt;&lt;前</a>|<a href="../index.html">上へ</a>|<a href="p2022_0501.html">次&gt;&gt;</a>
    </div>
    <h1>青葉台旭のノートブック</h1>
  </div>
</header>

<!-- ========== content ========== -->
<div class="content">

<!-- ===== 記事 ===== -->
<article class="entry">

<!-- 記事タイトル -->
<h2>LISP のマクロについて</h2>

<!-- 記事本文 -->
<div class="main_text">

<p>LISP について調べると「LISP のマクロは強力」とか「マクロこそが LISP 最大の特徴」とかいう記事に当たる。</p>

<p>正直、今まではマクロが何故そんなに素晴らしいのか分からなかった。</p>

<p>てっきり、関数と同じように実行時に呼び出されるプロシージャの一種だと思っていた。</p>

<p>最近、マクロは <strong>コンパイル時に呼び出し元で展開される</strong> と知った。<br />
目から鱗だった。</p>

<p>ああ、なるほど、これは一種のプリ・プロセッサであり、 <strong>コンパイラに対する指示書</strong> なんだな、と。<br />
ソース・プログラムから抽象構文木を生成する時に、指示を出して抽象構文木を組み替えるための機能。</p>

<p>抽象構文木を生成する過程で展開されたマクロは、構文木の枝として呼び出し元の位置に『接ぎ木』され、静的に固定される。<br />
この処理は、機械語なりバイト・コードへのコンパイル前に行われる。<br />
実行時に動的に呼び出し・展開される訳ではない、と。</p>

<p>一種の置換処理という事か。<br />
Ｃ言語のプリ・プロセッサのようにソース・プログラム対して置換を行うのではなく、抽象構文木に対して置換を行うのだ。</p>

<p>なるほど、確かに使いようによっては強力そうだ。</p>

</div>

<!-- 投稿日時 -->
<div class="datetime">
  <span class="date">2022-05-01</span>
  <span class="time"> 11:29</span>
</div>

<!-- カテゴリー -->
<div class="category_list">
  <span class="category">[<a href="../category/no_category.html">カテゴリーなし</a> <a href="../category/year_2022.html">2022年</a>]</span>
</div>

</article>

</div>
<!-- ========== content end ========== -->

<footer>
  <div class="auther_in_footer">
    作者 <span class="author">青葉台旭</span>
  </div>
  <div class="button_in_footer">
    <a href="p2022_0501b.html">&lt;&lt;前</a>|<a href="../index.html">上へ</a>|<a href="p2022_0501.html">次&gt;&gt;</a>
  </div>
</footer>

</div> <!-- div.base_container end-->
</div> <!-- div.base_sheet end-->

</body>
</html>